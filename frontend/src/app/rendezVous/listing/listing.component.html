<c-row>
    <c-col xs>
      <c-card class="mb-4">
        <c-card-header>Liste rendez vous</c-card-header>
        <c-card-body>
          <table
            [hover]="true"
            [responsive]="true"
            [striped]="true"
            align="middle"
            cTable
            class="mb-0 border"
          >
            <thead cTableColor="light">
              <tr>
                <th class="text-center">
                  <svg cIcon name="cilPeople"></svg>
                </th>
                <th>Date</th>
                <th>Heure</th>
                <th>Client</th>
                <th>Service</th>
                <th class="text-center">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let rendezvous of dataSource; index as i">
                <td class="text-center">
                  <c-avatar
                    size="md"
                    src="assets/images/default-avatar-profile.jpg"
                    status="{{ rendezvous.status }}"
                  ></c-avatar>
                </td>
                <td>
                  <div>{{ rendezvous.date | date:'dd/MM/yyyy' }}</div>
                  <div class="small text-medium-emphasis text-nowrap">
                  </div>
                </td>
                <td>
                  <div>{{ rendezvous.heure }}</div>
                  <div class="small text-medium-emphasis text-nowrap">
                  </div>
                </td>
                <td>
                  <div>{{ rendezvous?.client?.nom }}</div>
                  <div class="small text-medium-emphasis text-nowrap">
                  </div>
                </td>
                <td>
                  <div>{{ rendezvous?.service?.nom }}</div>
                  <div class="small text-medium-emphasis text-nowrap">
                  </div>
                </td>
                <td class="text-center">
                  <button [routerLink]="['/liste-rendez-vous', 'voir',  rendezvous._id]" class="btn btn-success btn-sm">
                   <i class="fa fa-eye text-white"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>


          <div class="row" *ngIf="isLoading">
            <div class="col-4 offset-4 alert alert-primary text-center mb-5">
              <img src="assets/images/loading.gif" class="loading" alt="loading" />
            </div>
          </div>
          <div *ngIf="!dataSource.length" class="mt-3">
            <div class="alert alert-danger text-center">
              Aucune rendez-vous trouv√© !
            </div>
          </div>

          <mat-paginator 
            [length]="listing.total"
            [pageSize]="listing.limit"
            [pageSizeOptions]="listing.pageSizeOptions"
            aria-label="Select page"
            (page)="onPageChange($event)"
            class="mt-3"
          >
          </mat-paginator>
          
        </c-card-body>
      </c-card>
    </c-col>
    
  </c-row>
  
  